# Разведочный анализ данных о клиентах банка

Это streamlit-приложение с анализом данных о клиентах банка.

Ниже представлено описание проведенной работы.

1. Загрузка таблиц в postgres из csv-файлов<br>
Загрузка была в локальную БД postgres - скрипт `scripts/csv_to_db.py`. Данный скрипт требуется запускать с переменными окружения, описанными в `vars/envars.py`
<br><br>
2. Создание "базового" датафрейма запросами из БД<br>
Были предварительно сгенерированы модели таблиц БД с помощью библиотеки `sqlacodegen`:
<br>`sqlacodegen_v2 postgresql://{user}:{password}@{host}:{port}/{db_name} > db/models.py`<br>
Далее был задействован скрипт `scripts/create_base_data.py`, результатом выполнения которого является файл `datasets/prepared/base_data.csv`
<br><br>
3. Обработка "базового" датафрейма и создание итогового<br>
То что не удалось сделать через SQL пришлось доделать в jupyter-notebook - `scripts/data_preparation.ipynb`. Заодно проверяем наличие пустых значений после join'ов. Результатом является файл `datasets/prepared/data.csv`, который используется для всех дальнейших действий
<br><br>
4. Немножко анализа, генерации картинок и построения модели в jupyter-notebook<br>
Большинство картинок были сгенерированы в ipynb. Также была обучена модель логистической регрессии и сохранены ее веса - `scripts/visualizations_and_model.ipynb`
<br><br>
5. Приложение streamlit<br>
Собственно само приложение. Задеплоено с помощью docker.
<br><br>